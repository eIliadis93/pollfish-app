<section
  class="page"
  [ngClass]="{
    'page--mobile': viewport.state().isMobile,
    'page--desktop': viewport.state().isDesktop
  }"
>
  <header class="page-header">
    <h1 class="page-title">Questionnaire</h1>
  </header>

  <div
    class="page-content"
    cdkDropList
    [cdkDropListData]="store.questions()"
    (cdkDropListDropped)="onQuestionsDrop($event)"
  >
    @if (store.isLoading()) {
    <p>Loading questionnaireâ€¦</p>
    } @else if (store.questions().length === 0) {
    <p>No questions yet.</p>
    } @else { @for (q of store.questions(); track q.id) {
    <div cdkDrag class="question-drag-wrapper">
      <app-question-item [question]="q"></app-question-item>
    </div>
    } }
  </div>

  <footer class="page-actions">
    <div class="page-warning">
      @if(store.hasReachedLimit()) {
      <span>Question limit (10)</span>
      }
    </div>
    <button class="btn btn-primary" [disabled]="store.hasReachedLimit()" (click)="addQuestion()">
      Create question
    </button>
  </footer>
</section>
