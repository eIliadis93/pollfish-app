<div class="dialog-backdrop" (click)="onBackdropClick()"></div>

<div class="dialog" [class.dialog--mobile]="isMobile()" (click)="$event.stopPropagation()">
  <header class="dialog__header">
    <h2 class="dialog__title">{{ dialogTitle() }}</h2>

    <button class="btn btn-icon dialog__close" (click)="onCancel()">âœ•</button>
  </header>

  <div class="dialog__body">
    <form [formGroup]="form" (ngSubmit)="onSave()" class="dialog__form">
      <div class="field">
        <label class="field-label" for="prompt">Question</label>
        <input
          id="prompt"
          class="field-control"
          type="text"
          formControlName="prompt"
          placeholder="Type your question here"
        />

        @if (form.controls.prompt.touched && form.controls.prompt.value.trim().length === 0) {
        <p class="field-error">Question title is required.</p>
        }
      </div>

      <app-answer-item [answersArray]="answersArray"></app-answer-item>
    </form>
  </div>

  <footer class="dialog__footer">
    <button type="button" class="btn btn-secondary" (click)="onCancel()">Cancel</button>

    <button type="button" class="btn btn-primary" (click)="onSave()">Save question</button>
  </footer>
</div>
